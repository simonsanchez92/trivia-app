(this["webpackJsonptrivia-app"]=this["webpackJsonptrivia-app"]||[]).push([[0],{122:function(e,t,n){},123:function(e,t,n){},150:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),i=n.n(c),o=(n(122),n(123),n(35)),s=n(223),u=n(198),l=n(200),p=n(201),j=n(99),d=n.n(j),b=n(195),f=n(3),h=Object(b.a)((function(e){return Object(s.a)({appBar:{display:"flex",justifyContent:"center"},icon:{color:"#fff",flex:"1",fontSize:"2rem"},appBarTitle:{fontSize:e.typography.h4.fontSize,color:"#fff",textDecoration:"none",border:"0",outline:"0"},appBarWrapper:{width:"80%",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center"}})})),x=function(e){var t=h(e);return Object(f.jsx)(u.a,{className:t.appBar,position:"sticky",children:Object(f.jsxs)(l.a,{className:t.appBarWrapper,children:[Object(f.jsx)(o.b,{className:t.appBarTitle,to:"/",children:"Trivia"}),Object(f.jsx)(p.a,{children:Object(f.jsx)(d.a,{className:t.icon})})]})})},m=n(202),O=Object(b.a)((function(e){return Object(s.a)({footer:{color:"#eee",height:"50px",backgroundColor:e.palette.primary.dark,display:"flex",alignItems:"center",marginTop:"100px"},inner:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center"},innerText:{fontSize:"1.1rem"}})})),g=function(e){var t=O(e);return Object(f.jsx)("footer",{className:t.footer,children:Object(f.jsxs)(m.a,{className:t.inner,maxWidth:"lg",children:[Object(f.jsx)("span",{className:t.innerText,children:"\xa9 2021 Trivia"}),Object(f.jsx)("span",{className:t.innerText,children:"Developed by Simon Sanchez"})]})})},v=n(19),y=n(14),w=n(203),k=n(204),C=n(205),S=n(224),N=n(218),E=n(26),R=n(105),T=n(15),q=n.n(T),z=n(29),I=n(69),A=n.n(I),B=n(38),P=n(101),D=n(102),W=n(17),_="QUESTIONS_LOADED",F="SET_CURRENT",L="RESET_STATE",M="SET_ANSWERS",U="CORRECT_ANSWER",Y="UPDATE_BANK",Q="GAME_OVER",V="GET_USERS",G="SET_USERNAME",J={user:"",questions:[],questionNumber:0,current:"",currentCorrect:"",answers:[],ranking:[],score:0,time:0};var K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case _:return Object(W.a)(Object(W.a)({},e),{},{questions:r});case F:return Object(W.a)(Object(W.a)({},e),{},{current:r.current,answers:[]});case M:return Object(W.a)(Object(W.a)({},e),{},{answers:r.options,currentCorrect:r.correct});case U:return Object(W.a)(Object(W.a)({},e),{},{score:e.score+1});case Y:return Object(W.a)(Object(W.a)({},e),{},{questionNumber:e.questionNumber+1,questions:r});case Q:return Object(W.a)(Object(W.a)({},e),{},{questions:[],questionNumber:0,current:"",currentCorrect:"",answers:[],score:0,time:r});case V:return Object(W.a)(Object(W.a)({},e),{},{ranking:r});case G:return Object(W.a)(Object(W.a)({},e),{},{user:r});case L:return Object(W.a)(Object(W.a)({},e),{},{user:"",questions:[],questionNumber:0,current:"",currentCorrect:"",answers:[],score:0,time:0});default:return e}},H=Object(B.combineReducers)({triviaReducer:K}),X=[D.a],Z=Object(B.createStore)(H,{},Object(P.composeWithDevTools)(B.applyMiddleware.apply(void 0,X))),$=function(e){for(var t=[["amp","&"],["apos","'"],["#039","'"],["#x27","'"],["#x2F","/"],["#39","'"],["#47","/"],["lt","<"],["gt",">"],["nbsp"," "],["quot",'"'],["pi","\u03c0"],["aacute","\xe1"],["eacute","\xe9"],["iacute","\xed"],["oacute","\xf3"],["uacute","\xfa"]],n=0,r=t.length;n<r;++n)e=e.replace(new RegExp("&"+t[n][0]+";","g"),t[n][1]);return e},ee=function(e){return function(){var t=Object(z.a)(q.a.mark((function t(n){var r,a;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Math.floor(Math.random()*e.length),t.next=3,e[r];case 3:(a=t.sent).question=$(a.question),Z.dispatch(ne(e,a)),Z.dispatch(te(a)),n({type:F,payload:{current:a}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},te=function(e){return function(){var t=Object(z.a)(q.a.mark((function t(n){var r,a;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,[].concat(Object(R.a)(e.incorrect_answers),[e.correct_answer]);case 2:r=(r=(r=t.sent).sort((function(){return Math.random()-.5}))).map((function(e){return $(e)})),a=e.correct_answer,n({type:M,payload:{options:r,correct:a}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ne=function(e,t){return function(){var n=Object(z.a)(q.a.mark((function n(r){var a;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=e.filter((function(e){return e.question!==t.question})),r({type:Y,payload:a});case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},re=0,ae=function(){return function(){var e=Object(z.a)(q.a.mark((function e(t){var n,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("https://trivia-app-v1.herokuapp.com/api/users");case 3:return n=e.sent,e.next=6,n.data.data;case 6:r=e.sent,t({type:V,payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},ce=function(e){var t="0".concat(e%60).slice(-2),n="".concat(Math.floor(e/60)),r="0".concat(n%60).slice(-2);return"".concat(r," : ").concat(t)},ie=Object(E.b)((function(e){return{}}),{getTime:function(e){return function(){var t=Object(z.a)(q.a.mark((function t(n){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return re=e,t.abrupt("return",re);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getTime,n=Object(r.useState)(0),a=Object(v.a)(n,2),c=a[0],i=a[1],o=Object(r.useRef)(null);return Object(r.useEffect)((function(){return o.current=setInterval((function(){t(c),i((function(e){return e+1}))}),1e3),function(){return clearInterval(o.current)}}),[c,t]),Object(f.jsx)("div",{className:"stopwatch-card",children:Object(f.jsx)("p",{children:ce(c)})})})),oe=n(222),se=n(104),ue=n.n(se),le=n(103),pe=n.n(le),je=Object(b.a)({root:{margin:"0 auto",marginTop:"30px",backgroundColor:"#2c2c2ccc",width:"85%",color:"#eee",padding:"20px",zIndex:"2"},timerContainer:{display:"flex",justifyContent:"space-between",alignItems:"center"},questionContainer:{},form:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},optionsContainer:{width:"100%",padding:"15px 0"},formButton:{width:"500px",maxWidth:"100%"},paper:{padding:"20px"}}),de=Object(E.b)((function(e,t){return{questions:e.triviaReducer.questions,current:e.triviaReducer.current,answers:e.triviaReducer.answers,currentCorrect:e.triviaReducer.currentCorrect,questionNumber:e.triviaReducer.questionNumber,ownProps:t,user:e.triviaReducer.user,score:e.triviaReducer.score}}),{setCurrent:ee,submitAnswer:function(e,t){return function(){var n=Object(z.a)(q.a.mark((function n(r){return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(e===t?{type:U}:{type:"INCORRECT_ANSWER"});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},gameOver:function(e,t){return function(){var n=Object(z.a)(q.a.mark((function n(r){var a,c;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{a={name:e,score:t,time:re},c={headers:{"Content-Type":"application/json"}},A.a.post("https://trivia-app-v1.herokuapp.com/api/users",a,c),r({type:Q,payload:re}),Z.dispatch(ae())}catch(i){console.log(i)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.ownProps,n=e.gameOver,c=e.setCurrent,i=e.submitAnswer,o=e.questions,s=e.questionNumber,u=e.answers,l=e.current,p=e.currentCorrect,j=e.user,d=e.score,b=je(t),h=Object(y.g)(),x=Object(r.useState)(""),m=Object(v.a)(x,2),O=m[0],g=m[1],E=Object(r.useState)(""),R=Object(v.a)(E,2),T=R[0],q=R[1],z=Object(r.useState)(""),I=Object(v.a)(z,2),A=I[0],B=I[1],P=a.a.useState(!1),D=Object(v.a)(P,2),W=D[0],_=D[1],F=function(){_(!0)},L=Object(r.useState)(!0),M=Object(v.a)(L,2),U=M[0];M[1];Object(r.useEffect)((function(){return window.addEventListener("beforeunload",Y),function(){window.removeEventListener("beforeunload",Y)}}),[]);var Y=function(e){e.preventDefault(),e.returnValue=""};return 0===o.length&&h.push("/trivia-app"),Object(f.jsxs)("div",{className:b.root,children:[Object(f.jsxs)("div",{className:b.timerContainer,children:[Object(f.jsxs)("h3",{children:["Question ",Object(f.jsx)("span",{id:"question-count",children:s})," of 20"]}),Object(f.jsx)("h3",{id:"timer",children:Object(f.jsx)(ie,{})})]}),Object(f.jsx)("div",{className:b.questionContainer,id:"question-container",children:Object(f.jsx)("h2",{className:"question",id:"question",children:l&&l.question})}),Object(f.jsxs)("form",{component:"form",className:b.form,children:[Object(f.jsx)("div",{className:b.optionsContainer,children:Object(f.jsx)(w.a,{size:"medium",children:Object(f.jsx)(S.a,{"aria-label":"gender",name:"gender1",value:O,onChange:function(e){return function(e){g(e.target.value)}(e)},children:u&&u.map((function(e,t){return Object(f.jsx)(k.a,{value:e,control:Object(f.jsx)(N.a,{}),label:e},t)}))})})}),Object(f.jsx)(C.a,{className:b.formButton,onClick:function(){""!==O&&o.length>0?(i(O,p),c(o),g("")):o.length<1&&(d>=18?(q("Awesome, ".concat(j,"!")),B("you have answered ".concat(d," answers correctly"))):d>10?(q("Very good, ".concat(j,"!")),B("You have answered ".concat(d," answers correctly"))):(q("Practice makes perfect, ".concat(j,"...")),B("You have answered ".concat(d," answers correctly"))),n(j,d),F())},variant:"contained",color:"primary",children:"Submit"}),Object(f.jsx)("div",{children:Object(f.jsxs)(oe.a,{classes:{paper:b.paper},maxWidth:"sm",open:W,onClose:function(){_(!1),h.push("/")},children:[Object(f.jsxs)("h3",{style:{fontSize:"2rem",textAlign:"Center"},children:[T," ",d>=18?Object(f.jsx)(pe.a,{}):Object(f.jsx)(ue.a,{fontSize:"large",color:"primary"})]}),Object(f.jsx)("p",{style:{fontSize:"1.3rem"},id:"alert-dialog-description",children:A})]})})]}),Object(f.jsx)(y.a,{when:U,message:"Are you sure you want to leave? You will lose all your progress"})]})})),be=n(221),fe=n(208),he=Object(b.a)((function(e){return Object(s.a)({main:{display:"flex",justifyContent:"center",padding:"40px 0 0 0",margin:"20px 0",flexDirection:"column",alignItems:"center"},hero:{backgroundColor:"#eee",margin:"0 10px",padding:"0 15px 15px 15px",border:"1px solid black",borderRadius:"4px",zIndex:"10",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"500px",maxWidth:"80%"},heroTitle:{fontSize:"2rem",textAlign:"center"},heroBtns:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center"},playBtnContainer:{display:"flex",margin:"20px 0"},textField:{flex:"1"},rankingsLink:{textDecoration:"none",color:"#eee"},paper:{padding:"10px",border:"2px solid black"}})})),xe=Object(E.b)((function(e,t){return{}}),{resetState:function(){return function(){var e=Object(z.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:L});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.ownProps,n=e.resetState,a=he(t),c=Object(y.g)(),i=Object(r.useState)(""),s=Object(v.a)(i,2),u=s[0],l=s[1],p=Object(r.useState)(!1),j=Object(v.a)(p,2),d=j[0],b=j[1],h=Object(r.useState)(!1),x=Object(v.a)(h,2),m=x[0],O=x[1],g=function(){O(!1),b(!1)};return Object(r.useEffect)((function(){n()}),[n]),Object(f.jsx)("div",{className:a.main,children:Object(f.jsxs)("div",{className:a.hero,children:[Object(f.jsx)("h1",{className:a.heroTitle,children:"Ready to test your knowledge?"}),Object(f.jsxs)("div",{className:a.heroBtns,children:[Object(f.jsxs)("div",{className:a.playBtnContainer,children:[Object(f.jsx)(be.a,{value:u,onChange:function(e){return function(e){b(!1),l(e.target.value)}(e)},className:a.textField,variant:"outlined",size:"small",error:d,label:"Your name:"}),Object(f.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){var e;""!==u?(Z.dispatch(function(){var e=Object(z.a)(q.a.mark((function e(t){var n,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("https://opentdb.com/api.php?amount=20&type=multiple");case 3:return n=e.sent,e.next=6,n.data.results;case 6:r=e.sent,t({type:_,payload:r}),Z.dispatch(ee(r)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"QUESTIONS_LOADED_FAIL"});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),Z.dispatch((e=u,function(){var t=Object(z.a)(q.a.mark((function t(n){var r;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.trim(),n({type:G,payload:r});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),b(!1),O(!0)):b(!0)},children:"Play"}),Object(f.jsx)("div",{children:Object(f.jsxs)(oe.a,{classes:{paper:a.paper},maxWidth:"sm",open:m,onClose:g,children:[Object(f.jsx)("h3",{style:{fontSize:"2rem",textAlign:"Center"},children:"Ready to play?"}),Object(f.jsx)("p",{style:{fontSize:"1.2rem"},id:"alert-dialog-description",children:'Before clicking "Yes", focus and prepare to answer 20 multiple choice questions of general knowledge'}),Object(f.jsxs)(fe.a,{className:a.dialogBox,children:[Object(f.jsx)(C.a,{onClick:function(){""!==u&&c.push("/game")},color:"primary",children:"Yes"}),Object(f.jsx)(C.a,{onClick:g,color:"primary",autoFocus:!0,children:"No"})]})]})})]}),Object(f.jsx)(C.a,{color:"primary",variant:"contained",children:Object(f.jsx)(o.b,{className:a.rankingsLink,to:"/rankings",children:"See Rankings"})})]})]})})})),me=(n(31),n(5)),Oe=n(212),ge=n(215),ve=n(213),ye=n(209),we=n(211),ke=n(216),Ce=n(220),Se=n(214),Ne=n(152),Ee=(n(77),n(79),n(78),n(76),n(210));Object(b.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));var Re=Object(b.a)({tableContainer:{boxShadow:"none",background:"0",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},table:{width:"450px",border:"1px solid black",backgroundColor:"#eee",maxWidth:"100%",display:"inline-block",margin:"20px"},tableFooter:{backgroundColor:"#fff"},skeleton:{width:"450px",margin:"0 auto",paddingTop:"40px"},skeletonChild:{backgroundColor:"#f0e5e53f"}}),Te=Object(me.a)((function(e){return{head:{backgroundColor:e.palette.primary.light,color:e.palette.common.white,fontSize:e.typography.h5.fontSize,textAlign:"justify",borderBottom:"2px solid black"},body:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,fontSize:e.typography.htmlFontSize,fontWeight:e.typography.fontWeightMedium,border:"0",textAlign:"justify",borderBottom:"1px solid black"}}}))(ye.a),qe=Object(E.b)((function(e){return{ranking:e.triviaReducer.ranking}}))((function(e){var t=e.ranking,n=Object(r.useState)([]),a=Object(v.a)(n,2),c=a[0],i=a[1],o=Re(),s=Object(r.useState)(0),u=Object(v.a)(s,2),l=u[0],p=u[1],j=Object(r.useState)(5),d=Object(v.a)(j,2),b=d[0],h=d[1],x=b-Math.min(b,c.length-l*b),m=Object(r.useCallback)((function(){var e=t.sort((function(e,t){return t.score-e.score})).map((function(e){return t=e.name,n=e.score,r=e.time,r=ce(r),{name:t,score:n,time:r};var t,n,r}));i(e)}),[t]);return Object(r.useEffect)((function(){m()}),[t,m]),0===c.length?Object(f.jsx)("div",{className:o.skeleton,children:function(){for(var e=[],t=0;t<5;t++)e.push(Object(f.jsx)(Ee.a,{className:o.skeletonChild,height:60,variant:"rect",animation:"wave"},t));return e}()}):Object(f.jsx)(we.a,{className:o.tableContainer,component:Ne.a,children:Object(f.jsxs)(Oe.a,{className:o.table,"aria-label":"custom pagination table",children:[Object(f.jsx)(ve.a,{children:Object(f.jsxs)(Se.a,{children:[Object(f.jsx)(Te,{width:300,children:"Name"}),Object(f.jsx)(Te,{width:150,align:"right",children:"Score"}),Object(f.jsx)(Te,{width:150,align:"right",children:"Time"})]})}),Object(f.jsxs)(ge.a,{children:[(b>0?c.slice(l*b,l*b+b):c).map((function(e){return Object(f.jsxs)(Se.a,{children:[Object(f.jsx)(Te,{component:"th",scope:"row",children:e.name}),Object(f.jsx)(Te,{children:e.score}),Object(f.jsx)(Te,{align:"right",children:e.time})]},e.name)})),x>0&&Object(f.jsx)(Se.a,{style:{height:53*x},children:Object(f.jsx)(ye.a,{colSpan:6})})]}),Object(f.jsx)(ke.a,{className:o.tableFooter,children:Object(f.jsx)(Se.a,{children:Object(f.jsx)(Ce.a,{rowsPerPageOptions:[3,5,10],colSpan:3,count:c.length,rowsPerPage:b,page:l,SelectProps:{inputProps:{"aria-label":"rows per page"}},onChangePage:function(e,t){p(t)},onChangeRowsPerPage:function(e){h(parseInt(e.target.value,10)),p(0)}})})})]})})})),ze=Object(b.a)((function(e){return Object(s.a)({root:{zIndex:"2",height:"100%"}})})),Ie=Object(E.b)((function(e,t){return{myOwnProps:t,ranking:e.triviaReducer.ranking}}))((function(e){var t=e.myOwnProps,n=ze(t);return Object(f.jsx)("div",{className:n.root,children:Object(f.jsx)(qe,{})})})),Ae=n(20);var Be=Object(b.a)({root:{display:"flex",flexDirection:"column",height:"100%"},pages:{position:"relative",backgroundImage:"url(".concat("/trivia-app/assets/background.jpg",")"),backgroundColor:"#232A34",backgroundRepeat:"no-repeat",backgroundSize:"cover",flex:"1",display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"space-between",zIndex:"10"},overlay:{position:"absolute",top:"0",left:"0",bottom:"0",width:"100%",backgroundColor:"black",opacity:"0.3",zIndex:"1"}}),Pe=function(e){var t=Be(e),n=Object(Ae.a)();return Object(r.useEffect)((function(){Z.dispatch(ae())}),[]),Object(f.jsx)(E.a,{store:Z,children:Object(f.jsx)("div",{className:t.root,children:Object(f.jsxs)(o.a,{history:n,basename:"/trivia-app",getUserConfirmation:function(e,t){t(window.confirm(e))},children:[Object(f.jsx)(x,{}),Object(f.jsxs)("main",{className:t.pages,children:[Object(f.jsxs)(y.d,{children:[Object(f.jsxs)(y.b,{exact:!0,path:"/",children:[" ",Object(f.jsx)(xe,{})]}),Object(f.jsxs)(y.b,{path:"/game",children:[" ",Object(f.jsx)(de,{})," "]}),Object(f.jsxs)(y.b,{path:"/rankings",children:[" ",Object(f.jsx)(Ie,{})," "]})]}),Object(f.jsx)("div",{className:t.overlay}),Object(f.jsx)(g,{})]})]})})})},De=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,227)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(f.jsx)(Pe,{}),document.getElementById("root")),De()}},[[150,1,2]]]);
//# sourceMappingURL=main.40f02e97.chunk.js.map